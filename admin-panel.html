<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ORIVO â€” Admin Panel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css" />

  <style>
    body {
      background: var(--bg-main);
      color: var(--text-main);
      min-height: 100vh;
    }

    .admin-wrapper {
      max-width: 1000px;
      margin: 0 auto;
      padding: 60px 24px;
    }

    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
    }

    .admin-header h2 {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
    }

    .admin-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 24px;
    }

    .admin-card {
      background: var(--bg-card);
      border-radius: 18px;
      padding: 24px;
      box-shadow: var(--shadow-soft);
      cursor: pointer;
      transition: transform 0.25s ease;
    }

    .admin-card:hover {
      transform: translateY(-4px);
    }

    .logout-btn {
      font-size: 13px;
      border: 1px solid var(--border);
      padding: 8px 14px;
      border-radius: 999px;
      cursor: pointer;
      background: transparent;
    }

    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .modal-box {
      background: var(--bg-card);
      border-radius: 18px;
      padding: 32px;
      width: 100%;
      max-width: 420px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-box label {
      font-size: 13px;
    }

    .modal-box input,
    .modal-box textarea {
      width: 100%;
      margin: 8px 0 16px;
      padding: 12px;
    }

    .modal-actions {
      display: flex;
      gap: 12px;
    }

    .modal-actions button {
      flex: 1;
    }
  </style>
</head>

<body>

<div class="admin-wrapper">

  <div class="admin-header">
    <h2>ORIVO Admin Panel</h2>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </div>

  <div class="admin-grid">
    <div class="admin-card" onclick="openHeroEditor()">
      <h3>Hero Section</h3>
      <p>Edit headline, text & hero image</p>
    </div>
  </div>

</div>

<!-- ACCESS GUARD -->
<script>
  if (localStorage.getItem("orivo_admin") !== "unlocked") {
    window.location.href = "admin.html";
  }

  function logout() {
    localStorage.removeItem("orivo_admin");
    window.location.href = "admin.html";
  }
</script>

<!-- HERO MODAL -->
<div id="heroEditor" class="modal">
  <div class="modal-box">

    <h3>Edit Hero Section</h3>

    <label>Hero Title</label>
    <input id="heroTitle" />

    <label>Hero Subtitle</label>
    <textarea id="heroSubtitle"></textarea>

    <label>Hero Background Image</label>
    <input type="file" id="heroImageInput" accept="image/*" />

    <img
      id="heroPreview"
      style="
        width:100%;
        max-height:220px;
        object-fit:cover;
        border-radius:14px;
        display:none;
        margin-bottom:16px;
      "
    />

    <div class="modal-actions">
      <button class="btn btn-primary" id="saveHeroBtn" onclick="saveHero()">Save</button>
      <button class="btn btn-outline" onclick="closeHeroEditor()">Cancel</button>
    </div>

  </div>
</div>

<!-- HERO LOGIC -->
<script>
  const heroEditor = document.getElementById("heroEditor");
  const heroTitle = document.getElementById("heroTitle");
  const heroSubtitle = document.getElementById("heroSubtitle");
  const heroImageInput = document.getElementById("heroImageInput");
  const heroPreview = document.getElementById("heroPreview");
  const saveHeroBtn = document.getElementById("saveHeroBtn");

  let uploadedHeroImage = null;

  function openHeroEditor() {
    heroEditor.style.display = "flex";

    heroTitle.value = localStorage.getItem("orivo_hero_title") || "";
    heroSubtitle.value = localStorage.getItem("orivo_hero_subtitle") || "";

    const savedImage = localStorage.getItem("orivo_hero_image");

    if (savedImage) {
      uploadedHeroImage = savedImage;
      heroPreview.src = savedImage;
      heroPreview.style.display = "block";
    } else {
      uploadedHeroImage = null;
      heroPreview.style.display = "none";
    }

    heroImageInput.value = "";
  }

  function closeHeroEditor() {
    heroEditor.style.display = "none";
    heroImageInput.value = "";
  }

  heroImageInput.addEventListener("change", () => {
    const file = heroImageInput.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = () => {
      uploadedHeroImage = reader.result;
      heroPreview.src = uploadedHeroImage;
      heroPreview.style.display = "block";
    };
    reader.readAsDataURL(file);
  });

  function saveHero() {
    if (!uploadedHeroImage) {
      alert("Please upload a hero image");
      return;
    }

    localStorage.setItem("orivo_hero_title", heroTitle.value);
    localStorage.setItem("orivo_hero_subtitle", heroSubtitle.value);
    localStorage.setItem("orivo_hero_image", uploadedHeroImage);

    alert("Hero updated successfully");
    closeHeroEditor();
  }
</script>

</body>
</html>